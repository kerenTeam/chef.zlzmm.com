<script src="skin/js/jquery.min.js"></script>
<script src="skin/js/amazeui.min.js"></script>
<body>
<!-- header -->
<header data-am-widget="header" class="am-header am-header-default topform">
  <div class="am-header-left am-header-nav"> <a href="javascript:" onclick="javascript:history.go(-1);"> <i class="am-header-icon am-icon-chevron-left"></i> </a> </div>
  <h1 class="am-header-title"> 香辣蟹 </h1>
</header>
<form action="" method="" enctype="multipart/form-data">
  <div class="cmn cmnb am-list-news am-list-news-default" >
    <div class="am-list-news-bd">
      <ul class="am-list">
        <li class="am-g am-list-item-desced am-list-item-thumbed am-list-item-thumb-left">
          <div class="am-u-sm-4 am-text-center am-list-thumb"> <a href="<?php echo site_url('home/food')?>" class="vimg"> <img src="skin/img/product/rjx.jpg" alt="蓉记姜葱香辣蟹168"/> </a> </div>
          <div class=" am-u-sm-8 am-list-main">
            <h3 class="am-list-item-hd">蓉记姜葱香辣蟹</h3>
            <div class="am-list-item-text"><strong>特点：</strong>肥而不腻，色泽鲜艳，味道巴适。</div>
            <div class="months"><i class="am-icon-star red"></i><i class="am-icon-star red"></i><i class="am-icon-star red"></i><i class="am-icon-star red"></i>月销<span class="">100</span>份</div>
            <div class="pr"><i class="am-icon-cny"></i><span class="price">168</span></div>
            <div class="foodNum"> <span class="reduce am-icon-minus-circle" onClick="handle(this, false)"></span>
              <input type="text" class="numTxt" name="numbers" readonly value="0">
              <span class="add am-icon-plus-circle" onClick="handle(this, true)"></span> </div>
          </div>
        </li>
        <li class="am-g am-list-item-desced am-list-item-thumbed am-list-item-thumb-left">
          <div class="am-u-sm-4 am-text-center am-list-thumb"> <a href="<?php echo site_url('home/food')?>" class="vimg"> <img src="skin/img/product/rjx.jpg" alt="蓉记姜葱香辣蟹168"/> </a> </div>
          <div class=" am-u-sm-8 am-list-main">
            <h3 class="am-list-item-hd">蓉记姜葱香辣蟹</h3>
            <div class="am-list-item-text"><strong>特点：</strong>肥而不腻，色泽鲜艳，味道巴适。</div>
            <div class="months"><i class="am-icon-star red"></i><i class="am-icon-star red"></i><i class="am-icon-star red"></i><i class="am-icon-star red"></i>月销<span class="">100</span>份</div>
            <div class="pr"><i class="am-icon-cny"></i><span class="price">168</span></div>
            <div class="foodNum"> <span class="reduce am-icon-minus-circle" onClick="handle(this, false)"></span>
              <input type="text" class="numTxt" name="numbers" readonly value="0">
              <span class="add am-icon-plus-circle" onClick="handle(this, true)"></span> </div>
          </div>
        </li>
        <li class="am-g am-list-item-desced am-list-item-thumbed am-list-item-thumb-left">
          <div class="am-u-sm-4 am-text-center am-list-thumb"> <a href="<?php echo site_url('home/food')?>" class="vimg"> <img src="skin/img/product/rjx.jpg" alt="蓉记姜葱香辣蟹168"/> </a> </div>
          <div class=" am-u-sm-8 am-list-main">
            <h3 class="am-list-item-hd">蓉记姜葱香辣蟹</h3>
            <div class="am-list-item-text"><strong>特点：</strong>肥而不腻，色泽鲜艳，味道巴适。</div>
            <div class="months"><i class="am-icon-star red"></i><i class="am-icon-star red"></i><i class="am-icon-star red"></i><i class="am-icon-star red"></i>月销<span class="">100</span>份</div>
            <div class="pr"><i class="am-icon-cny"></i><span class="price">168</span></div>
            <div class="foodNum"> <span class="reduce am-icon-minus-circle" onClick="handle(this, false)"></span>
              <input type="text" class="numTxt" name="numbers" readonly value="0">
              <span class="add am-icon-plus-circle" onClick="handle(this, true)"></span> </div>
          </div>
        </li>
        <li class="am-g am-list-item-desced am-list-item-thumbed am-list-item-thumb-left">
          <div class="am-u-sm-4 am-text-center am-list-thumb"> <a href="<?php echo site_url('home/food')?>" class="vimg"> <img src="skin/img/product/rjx.jpg" alt="蓉记姜葱香辣蟹168"/> </a> </div>
          <div class=" am-u-sm-8 am-list-main">
            <h3 class="am-list-item-hd">蓉记姜葱香辣蟹</h3>
            <div class="am-list-item-text"><strong>特点：</strong>肥而不腻，色泽鲜艳，味道巴适。</div>
            <div class="months"><i class="am-icon-star red"></i><i class="am-icon-star red"></i><i class="am-icon-star red"></i><i class="am-icon-star red"></i>月销<span class="">100</span>份</div>
            <div class="pr"><i class="am-icon-cny"></i><span class="price">168</span></div>
            <div class="foodNum"> <span class="reduce am-icon-minus-circle" onClick="handle(this, false)"></span>
              <input type="text" class="numTxt" name="numbers" readonly value="0">
              <span class="add am-icon-plus-circle" onClick="handle(this, true)"></span> </div>
          </div>
        </li>
      </ul>
    </div>
  </div>
  <!-- footer -->
  <div data-am-widget="navbar" class="am-navbar am-shadow am-cf am-navbar-default amft" id="">
    <div class="am-u-sm-8 a"> <span class="green"><img src="skin/img/cart.png" id="car" alt=""><span id="fen" class="allmoney">0</span>份</span> <i class="am-icon-cny red"></i><span id="allmoney" class="allmoney red">0</span> </div>
    <div class="am-u-sm-4 b">
      <button type='submit'  class="am-btn am-btn-success">确认</button>
    </div>
  </div>
</form>
</body>
<script src="skin/js/num.js"></script>
<script src="skin/js/jqueryLazyload.js"></script>
<script>

 $(function(){
var inputs = $('.numTxt');
inputs.each(function() {
var numI=$(this).val();
if(numI == 0){
$(this).css('display','none');
$(this).parent('.foodNum').find('.reduce').css('display','none');
}
else{
$(this).css('display','inline-block');
$(this).parent('.foodNum').find('.reduce').css('display','inline-block');
}
});
 $("img.lazy").lazyload();
}) 
</script>
<style>
.oo {
	font-size: 20px;
	z-index: 99999999;
	-webkit-transition: 0.5s left linear,  0.5s top ease-in,  0.1s 0.5s visibility linear;
	transition: 0.5s left linear,  0.5s top ease-in,  0.1s 0.5s visibility linear;
}
</style>
<script type="text/javascript">
    var add = document.getElementsByClassName("add"); 
    var car = document.getElementById("car");
    for (var i = 0; i < add.length; i++) {
        add[i].onclick = function(){
            clearTimeout(par);
            var x = this.getBoundingClientRect().left;
            var y = this.getBoundingClientRect().top;
            var car_x = car.getBoundingClientRect().left;
            var car_y = car.getBoundingClientRect().top;
            var div = document.createElement("div");
            div.style.position = "fixed";
            div.style.left = x + "px";
            div.style.top = y + "px";
            div.setAttribute("class","add am-icon-plus-circle oo");
            document.documentElement.appendChild(div);
             handle(this, true);
             var par = setTimeout(function(){
          // var divX = parseInt(div.style.left);
         //  var divY = parseInt(div.style.top);
         div.style.zIndex=99999;
                    div.style.left=car_x + "px";
                    div.style.top=car_y + "px";//加单位很重要，不然不会动
        // var speedX = (car_x-divX)/10;
        // var speedY = (car_y-divY)/30;
        // speedX=speedX>0?Math.ceil(speedX):Math.floor(speedX);
        // // speedY=speedY>0?Math.ceil(speedY):Math.floor(speedY);
        // div.style.left = divX + speedX + "px";
        // div.style.top = divY + speedY + "px";
        // if(divY == car_y && divX == car_x){
        //  clearInterval(par);
        //  div.parentNode.removeChild(div);
        // }
        // // console.log(divX)
        // console.log(divX,divY +'======'+ car_x,car_y); 
        var remove=setTimeout(function(){
               div.parentNode.removeChild(div);
      },550)
      },1)
        }
    }
</script>
</html>